[package]
name = "hotmeal-fuzz"
version = "0.0.0"
publish = false
edition = "2024"

[workspace]
members = ["browser-proto", "browser-wasm"]

[package.metadata]
cargo-fuzz = true

[dependencies]
libfuzzer-sys = "0.4"
arbitrary = { version = "1", features = ["derive"] }
tendril = "0.5"
tokio = { version = "1", features = ["full", "sync", "rt-multi-thread"] }
chromiumoxide = { version = "0.7", features = ["tokio-runtime"], default-features = false }
tokio-tungstenite = "0.26"
futures-util = "0.3"
roam = { git = "https://github.com/bearcove/roam", branch = "main" }
roam-websocket = { git = "https://github.com/bearcove/roam", branch = "main" }
roam-stream = { git = "https://github.com/bearcove/roam", branch = "main" }
browser-proto = { path = "browser-proto" }
libc = "0.2"
similar = "2.7"

[dependencies.hotmeal]
path = ".."

[[bin]]
name = "roundtrip"
path = "fuzz_targets/roundtrip.rs"
test = false
doc = false
bench = false

[[bin]]
name = "mutate"
path = "fuzz_targets/mutate.rs"
test = false
doc = false
bench = false

[[bin]]
name = "browser"
path = "fuzz_targets/browser.rs"
test = false
doc = false
bench = false

[[bin]]
name = "browser2"
path = "fuzz_targets/browser2.rs"
test = false
doc = false
bench = false
